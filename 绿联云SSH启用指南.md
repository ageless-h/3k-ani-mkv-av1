# 绿联云NAS SSH服务启用指南

## 📋 您的设备信息
- **设备型号**: dh4300plus-0e7a
- **UGREENlink ID**: dh4300plus-0e7a-8NzJ
- **远程访问地址**: https://ug.link/dh4300plus-0e7a-8NzJ
- **Tailscale地址**: 100.74.107.59

## 🔧 启用SSH服务的步骤

### 方法1: 通过绿联云Web管理界面

1. **访问管理界面**
   ```
   浏览器访问: http://100.74.107.59
   或者: https://ug.link/dh4300plus-0e7a-8NzJ
   ```

2. **登录账户**
   - 用户名: 15972014964
   - 密码: 727502Hzh.

3. **启用SSH服务**
   - 进入 **系统设置** → **安全设置** → **终端服务**
   - 或者 **控制面板** → **网络服务** → **SSH**
   - 开启 **SSH服务**
   - 确认端口为 **22**
   - 勾选 **允许root登录**

4. **配置用户权限**
   - 在 **用户管理** 中确保管理员账户有SSH权限
   - 如果有独立的SSH用户设置，请启用

5. **防火墙设置**
   - 确保防火墙允许端口22
   - 或者暂时关闭防火墙进行测试

### 方法2: 通过绿联云手机APP

1. 打开绿联云APP
2. 连接到您的NAS设备 (dh4300plus-0e7a-8NzJ)
3. 进入设置 → 网络服务 → SSH
4. 开启SSH服务

## 🧪 测试SSH连接

启用SSH后，在Linux服务器上测试：

```bash
# 测试不同的用户名
ssh root@100.74.107.59
ssh admin@100.74.107.59  
ssh ugos@100.74.107.59

# 密码可能是：
# - 727502Hzh. (您提供的密码)
# - 您设置的NAS管理员密码
# - ugos1234 (绿联云默认密码)
```

## 🔑 常见SSH用户名和密码

### 用户名（按优先级）:
1. **root** - 系统管理员
2. **admin** - 管理员账户
3. **ugos** - 绿联系统用户

### 密码可能是:
1. **727502Hzh.** - 您提供的密码
2. **您的NAS管理员密码** - 设置NAS时创建的密码
3. **ugos1234** - 绿联云某些版本的默认密码
4. **admin** - 一些设备的默认管理密码

## 🚨 常见问题排除

### 问题1: SSH端口不可达
```bash
# 检查绿联云SSH服务状态
# 通过Web界面: 系统信息 → 服务状态 → SSH
```

### 问题2: 连接被拒绝
- 确认SSH服务已启动
- 检查端口号是否为22
- 验证防火墙设置

### 问题3: 认证失败
- 尝试不同的用户名
- 确认密码正确
- 检查是否允许root登录

### 问题4: 网络连接问题
```bash
# 检查Tailscale状态
tailscale status

# 测试网络连通性
telnet 100.74.107.59 22
```

## 🎯 成功标志

当SSH配置正确时，您应该能够：

1. **无密码连接测试通过**:
   ```bash
   ssh -o BatchMode=yes root@100.74.107.59 "echo success"
   # 返回码255 = 认证失败但连接成功
   # 返回码0 = 完全成功
   ```

2. **手动SSH登录成功**:
   ```bash
   ssh root@100.74.107.59
   # 输入密码后成功登录到绿联云终端
   ```

3. **自动检测成功**:
   ```bash
   python ugreen_nas_config.py
   # 显示"检测到可用SSH用户"
   ```

## 📞 如果仍然无法连接

1. **重启绿联云设备**
2. **重启SSH服务** (如果能访问终端):
   ```bash
   systemctl restart ssh
   ```
3. **检查绿联云系统版本** - 某些版本可能SSH默认关闭
4. **联系绿联云技术支持** - 确认您的设备型号是否支持SSH

## ✅ 下一步

SSH配置成功后：
1. 在Linux服务器上运行: `python ugreen_nas_config.py`
2. 生成配置文件: `cp config_generated.py config.py`  
3. 开始处理: `python main.py` 